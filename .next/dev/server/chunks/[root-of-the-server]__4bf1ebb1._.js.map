{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yira/Documents/code/gemini3-yira-s-website/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.SUPABASE_URL || '';\r\nconst supabaseAnonKey = process.env.SUPABASE_ANON_KEY || '';\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\nexport interface Booking {\r\n  id?: string;\r\n  name: string;\r\n  contact: string;\r\n  booking_date: string;\r\n  booking_time: string;\r\n  booking_type: string;\r\n  details?: string;\r\n  created_at?: string;\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,YAAY,IAAI;AAChD,MAAM,kBAAkB,QAAQ,GAAG,CAAC,iBAAiB,IAAI;AAEzD,IAAI,CAAC,eAAe,CAAC,iBAAiB;IACpC,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,WAAW,IAAA,gMAAY,EAAC,aAAa"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Yira/Documents/code/gemini3-yira-s-website/app/api/profile/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/src/lib/supabase\";\r\n\r\n// 获取个人资料\r\nexport async function GET() {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from(\"profile\")\r\n      .select(\"*\")\r\n      .eq(\"id\", 1)\r\n      .single();\r\n\r\n    if (error) {\r\n      console.error(\"Supabase error:\", error);\r\n      return NextResponse.json({ error: \"获取失败\" }, { status: 500 });\r\n    }\r\n\r\n    return NextResponse.json(data);\r\n  } catch (error) {\r\n    console.error(\"Get profile error:\", error);\r\n    return NextResponse.json({ error: \"服务器错误\" }, { status: 500 });\r\n  }\r\n}\r\n\r\n// 更新个人资料\r\nexport async function PUT(request: Request) {\r\n  try {\r\n    const body = await request.json();\r\n    const { name, avatar_url, tags, bio_paragraph_1, bio_paragraph_2, bio_quote } = body;\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"profile\")\r\n      .update({\r\n        name,\r\n        avatar_url,\r\n        tags,\r\n        bio_paragraph_1,\r\n        bio_paragraph_2,\r\n        bio_quote,\r\n      })\r\n      .eq(\"id\", 1)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      console.error(\"Supabase update error:\", error);\r\n      return NextResponse.json({ error: \"更新失败\" }, { status: 500 });\r\n    }\r\n\r\n    return NextResponse.json({ success: true, data });\r\n  } catch (error) {\r\n    console.error(\"Update profile error:\", error);\r\n    return NextResponse.json({ error: \"服务器错误\" }, { status: 500 });\r\n  }\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,GACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,mBAAmB;YACjC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAO,GAAG;gBAAE,QAAQ;YAAI;QAC5D;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAC7D;AACF;AAGO,eAAe,IAAI,OAAgB;IACxC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,eAAe,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG;QAEhF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC;YACN;YACA;YACA;YACA;YACA;YACA;QACF,GACC,EAAE,CAAC,MAAM,GACT,MAAM,GACN,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAO,GAAG;gBAAE,QAAQ;YAAI;QAC5D;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAK;IACjD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAC7D;AACF"}}]
}